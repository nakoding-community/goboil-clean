<!DOCTYPE html>
<html>
    <head>
        <title></title>
    </head>
    <body>
        <div class="col-md-12">
            <div class="col-md-12">
                <canvas id="myCanvas" class="myCanvas"></canvas>
            </div>
        </div>
    </body>
</html>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<script type="text/javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/codecademy-content/courses/hour-of-code/js/alphabet.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/codecademy-content/courses/hour-of-code/js/bubbles.js"></script>
<script type="text/javascript">
    function updateCanvas(name, isBounce) {
        var myCanvas = document.getElementById("myCanvas")
        myCanvas.innerHTML = ""

        var black = [0, 0, 0]
        letterColors = [black]
        bubbleShape = "circle"

        drawName(name, letterColors)
        if (isBounce) {
            bounceBubbles()
        }
    }
</script>
<script type="text/javascript">
    window.onload = function () {
        var host = "ws://localhost:3030/ws/course"
        var query = "?key=receiver:malik"
        var conn

        if (window["WebSocket"]) {
            conn = new WebSocket(host+query)
            conn.onclose = function (evt) {
                var error = "error: connection closed"
                console.log(error)
            }
            conn.onmessage = function (evt) {
                var messages = evt.data.split('\n')
                for (var i = 0; i < messages.length; i++) {
                    console.log("success receive: "+ messages[i])
                    updateCanvas(messages[i], true)
                }
            }
            conn.addEventListener('error', function (event) {
                var error = "error: ws listen error"
                console.log(error, event)
            })
        } else {
            var error = "error: your browser does not support websockets"
            console.log(error)
        }
    }
</script>